local AimbotFrame = game.CoreGui:FindFirstChild("AimbotFrame")
local AimRange = 600 -- Hedefi hedefleme aralığı
local AimSpeed = 0.1 -- Hedefe nişan alma hızı (0-1 arası)
local TargetUpdateInterval = 0.1 -- Hedefi ne sıklıkla güncelleyeceğimiz (saniye cinsinden)
local LastTargetUpdateTime = 0 -- Son hedef güncelleme zamanı

local function FindTarget()
    local ClosestTarget = nil
    local ClosestDistance = math.huge
    for _, Player in pairs(game.Players:GetPlayers()) do
        if Player ~= game.Players.LocalPlayer and Player.Character and Player.Character:FindFirstChild("Head") then
            local Head = Player.Character:FindFirstChild("Head")
            if Head then
                local Distance = (Head.Position - game.Players.LocalPlayer.Character.Head.Position).magnitude
                if Distance < ClosestDistance and Distance <= AimRange then
                    ClosestDistance = Distance
                    ClosestTarget = Player
                end
            end
        end
    end
    return ClosestTarget
end

local function UpdateTarget(Target)
    -- Hedefi güncelleme işlemleri buraya gelecek
    if Target then
        AimbotFrame.TargetName.Text = Target.Name
        AimbotFrame.TargetDistance.Text = "Mesafe: " .. tostring(math.floor((Target.Character.Head.Position - game.Players.LocalPlayer.Character.Head.Position).magnitude))
    else
        AimbotFrame.TargetName.Text = "Hedef Yok"
        AimbotFrame.TargetDistance.Text = ""
    end
end

local function AimAtHead(Target)
    -- Hedefin kafasına nişan alma işlemleri buraya gelecek
    if Target then
        local Head = Target.Character:FindFirstChild("Head")
        if Head then
            local ScreenPos = game.Workspace.CurrentCamera:WorldToScreenPoint(Head.Position)
            if ScreenPos then
                local Mouse = game.Players.LocalPlayer:GetMouse()
                local CurrentX = Mouse.X
                local CurrentY = Mouse.Y
                local TargetX = ScreenPos.X
                local TargetY = ScreenPos.Y
                local DifferenceX = TargetX - CurrentX
                local DifferenceY = TargetY - CurrentY
                Mouse.X = CurrentX + (DifferenceX * AimSpeed)
                Mouse.Y = CurrentY + (DifferenceY * AimSpeed)
            end
        end
    end
end

local function ClearTarget(Target)
    -- Hedefi temizleme işlemleri buraya gelecek
    AimbotFrame.TargetName.Text = "Hedef Yok"
    AimbotFrame.TargetDistance.Text = ""
end

while true do
    if game.Players.LocalPlayer.Character then
        if os.clock() - LastTargetUpdateTime >= TargetUpdateInterval then
            local Target = FindTarget()
            if Target then
                UpdateTarget(Target)
                AimAtHead(Target)
            else
                ClearTarget(Target)
            end
            LastTargetUpdateTime = os.clock()
        end
        AimAtHead(Target) -- Hedefi sürekli olarak hedefle
    end
    wait(0.01) -- Döngüyü çalıştırmak için küçük bir gecikme
end

-- UI'nin kenarlarını yuvarlatma
AimbotFrame.CornerRadius = UDim.new(0, 5)
